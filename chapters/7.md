# DOM and Shadow DOM

## First, a review of DOM

An HTML document is, on its own, nothing more than static strings of text. 

![A basic HTML document](images/chapters/7/html-doc.png)

When it's loaded in a browser, however, the browser parses this HTML to produce a Document Object Model (DOM), and then we have an interface through which we can manipulate this document.  

The DOM can be described several ways:

* Quite literally, it is the *model* of an HTML *document*, using *objects*. 

* It's a data model that the browser uses to represent the current page: A tree structure made up of objects and nodes.

* It's also an API that provides us methods and properties to access and modify that data structure. 

When the browser parses the HTML into a tree structure, the elements become *nodes*.
The *root* element is the `<html>` tag. Here is the above HTML document in DOM form:

![before and after parsing](images/chapters/7/dom.png)

## Plain DOM is good, but... 

As the web has evolved, we've seen the introduction of custom elements and HTML imports, allowing us to incorporate chunks of code that come with their own styles and behaviors. With plain DOM, all those styles and behaviors can apply to the entire tree. You could run into situations where your element's ID shares an ID with a custom element you've imported. Your stylesheet may override the styles of the custom element. Your JavaScript might affect parts of that custom element. 

The solution is *shadow DOM*, a new feature introduced by whoever/w3c?. Shadow DOM is a scoped subtree inside an element, allowing for encapsulation of its code from the surrounding document.

To add shadow DOM to your code, you specify a node that will act as the shadow host. A new node is attached to that shadow host: the shadow root. The shadow root is the first node of the shadow tree, i.e. the topmost node of the custom element. Conveniently, Polymer takes care of creating shadow hosts and attaching shadow roots for us, but it still will be helpful to know what the terminology means when it comes time to tinker with the shadow DOM.  

Vocab recap: 

The _shadow tree_ is the tree of nodes that comprise a custom element that's attached to your main document via creation of a _shadow root_. 

This _shadow root_ is the root node of the shadow tree. 

The _shadow host_ is the DOM node that the shadow root is attached to.

 